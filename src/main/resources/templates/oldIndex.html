<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <meta charset="UTF-8">
    <title>Hello world</title>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>

    <script type="text/javascript">
        $(document).ready(function(){

            $('#minDropDown').on('change', function(){
                var timeId = $(this).val();
                $.ajax({
                    type: 'GET',
                    url: '${pageContext.request.contextPath }/hovedopgave/loadParameterByTimeId/' + timeId,
                    success: function(result) {
                        var result = JSON.parse(result);
                        var s = '';
                        for(var i = 0; i < result.length; i++) {
                            s += '<option value="' + result[i].id + '">' + result[i].name + '</option>';
                        }
                        $('#mineParametre').html(s);
                    }
                });
            });
            });
            </script>
<!--    <script type="text/javascript">-->
<!--        $(document).ready(function () {-->
<!--            $('#minDropDown').change(function () {-->
<!--                var categoryId = $(this).val();-->
<!--                alert(categoryId);-->
<!--            });-->
<!--        });-->
<!--    </script>-->
</head>
<body>
<H1>Parameter liste</H1>
<div class="container">
    <div class="form-group blu-margin">
        <h2>Valg tidsopl√∏sning</h2>
        <select id="minDropDown">
            <!--            <option value="">Select Element</option>-->
            <option th:each="time : ${dropDownElements}"
                    th:text="${time.name}"></option>
        </select>
    </div>
    <div class="form-group blu-margin">
        <h2>Valg element</h2>
        <!--    <select class="form-control" th:field="*{pickedParams}">-->
        <select id="mineParametre">
            <!--            <option value="">Select Element</option>-->
            <option th:each="parameter : ${pickedParams}"
                    th:value="${parameter.id}"
                    th:text="${parameter.name}"></option>
        </select>
    </div>

    <!--    <h2>Time Resolution Table</h2>-->
    <!--    <table class = "table">-->
    <!--        <thead>-->
    <!--        <tr>-->
    <!--            <th scope="col">id</th>-->
    <!--            <th scope="col">name</th>-->
    <!--            <th scope="col">description</th>-->
    <!--            <th scope="col">format</th>-->
    <!--        </tr>-->
    <!--        </thead>-->
    <!--        <tbody>-->
    <!--        <tr th:each="time : ${showTime}">-->
    <!--            <td th:text="${time.id}">id</td>-->
    <!--            <td th:text="${time.name}">Name</td>-->
    <!--            <td th:text="${time.description}">Description</td>-->
    <!--            <td th:text="${time.format}">Format</td>-->

    <!--        </tr>-->
    <!--        </tbody>-->
    <!--    </table>-->
</div>
<div class="container">
    <h2>Parameterlist Table</h2>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">id</th>
            <th scope="col">Element Name</th>
            <th scope="col">Element Number</th>
            <th scope="col">Polygon Calculate</th>
            <th scope="col">Time Resolution</th>
            <th scope="col">Base Calculate</th>
            <th scope="col">Parameter Type</th>
            <th scope="col">Map Type</th>
            <th scope="col">Unit id</th>
            <th scope="col">Map Name</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="element : ${plist}">
            <td th:text="${element.id}">id</td>
            <td th:text="${element.name}">Element Name</td>
            <td th:text="${element.element_number}">Element Number</td>
            <td th:text="${element.polygon_calculate_method_id}">Polygon Calculate</td>
            <td th:text="${element.time_resolution_id}">Time Resolution</td>
            <td th:text="${element.base_calculate_method_id}">Base Calculate</td>
            <td th:text="${element.parameter_type_id}">Parameter Type</td>
            <td th:text="${element.map_type}">Map Type</td>
            <td th:text="${element.unit_id}">Unit id</td>
            <td th:text="${element.map_name}">Map Name</td>

        </tr>
        </tbody>
    </table>
    <!--    <h2>Tasklist Table</h2>-->
    <!--    <table class="table">-->
    <!--        <thead>-->
    <!--        <tr>-->
    <!--            <th scope="col">id</th>-->
    <!--            <th scope="col">parameter_id</th>-->
    <!--            <th scope="col">from date</th>-->
    <!--            <th scope="col">to date</th>-->
    <!--            <th scope="col">Valuetype</th>-->
    <!--            <th scope="col">Tries</th>-->
    <!--            <th scope="col">Status</th>-->
    <!--            <th scope="col">Username</th>-->
    <!--            <th scope="col">User location</th>-->
    <!--            <th scope="col">Depends on/th>-->
    <!--            <th scope="col">Progress/th>-->
    <!--        </tr>-->
    <!--        </thead>-->
    <!--        <tbody>-->
    <!--        <tr th:each="element : ${qList}">-->
    <!--            <td th:text="${element.id}">id</td>-->
    <!--            <td th:text="${element.parameter_id}">parameter_id</td>-->
    <!--            <td th:text="${element.from_date}">from date</td>-->
    <!--            <td th:text="${element.to_date}">To date</td>-->
    <!--            <td th:text="${element.valuetype}">Valuetype</td>-->
    <!--            <td th:text="${element.num_tries}">Tries</td>-->
    <!--            <td th:text="${element.status}">status</td>-->
    <!--            <td th:text="${element.username}">Username</td>-->
    <!--            <td th:text="${element.userlocation}">User location</td>-->
    <!--            <td th:text="${element.depends_on}">Depends on</td>-->
    <!--            <td th:text="${element.progress}">Progress</td>-->

    <!--        </tr>-->
    <!--        </tbody>-->
    <!--    </table>-->

    <!--</div>-->
    <!--<script src="/static/main.js"></script>-->
</div>
</body>
</html>